{"version":3,"file":"index.js","sources":["../src/lib/index.tsx"],"sourcesContent":["import { faAngleDown } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { FunctionComponent, CSSProperties, MouseEvent, useRef, useState, useEffect } from \"react\"\r\nimport './style.scss'\r\n\r\ntype DropDownProps = {\r\n  label: string,\r\n  name: string,\r\n  zIndex?: number,\r\n  choicies: string[],\r\n  errorMessage?: string,\r\n  error?: boolean,\r\n  value?:string,\r\n  textColor?:string,\r\n  focusColor?:string,\r\n  errorColor?:string,\r\n  borderColor?:string,\r\n  borderRadius?:string,\r\n  onSelect?:CallableFunction,\r\n}\r\n\r\nconst Dropdown: FunctionComponent<DropDownProps> = ({\r\n  label,\r\n  name,\r\n  errorMessage = \"Erreur message\",\r\n  error = false,\r\n  choicies,\r\n  value = '',\r\n  borderColor = '#DADCE0',\r\n  textColor = '#70757A',\r\n  focusColor = '#059ECE',\r\n  errorColor = '#EF6C6C',\r\n  borderRadius = '5px',\r\n  zIndex = 1,\r\n  onSelect,\r\n}) => {\r\n\r\n  const inputElement = useRef<HTMLInputElement>(null);\r\n  const [showOptions, setShowOptions] = useState<boolean>(false)\r\n  const [inputValue, setInputValue] = useState<string>(value)\r\n\r\n  useEffect(() => {\r\n    setInputValue(value)\r\n  }, [value])\r\n\r\n  /**\r\n   * Expand choicies\r\n   */\r\n  const displayOptions = () => {\r\n    inputElement.current?.focus()\r\n    setShowOptions(!showOptions)\r\n  }\r\n\r\n  /**\r\n   * Select choice\r\n   */\r\n  const onClickOption = (e: MouseEvent<HTMLElement>) => {\r\n    setInputValue(e.currentTarget.innerHTML)\r\n    inputElement.current?.blur()\r\n    if(onSelect) onSelect(e.currentTarget.innerHTML)\r\n  }\r\n\r\n  return (\r\n    <div \r\n      data-testid=\"container\"\r\n      className={`dropdown${ showOptions ? ' dropdown--show' : '' }`} \r\n      style={{\r\n        zIndex: zIndex,\r\n        '--text-color': textColor,\r\n        '--focus-color': focusColor,\r\n        '--error-color': errorColor,\r\n        '--border-color': borderColor,\r\n        '--border-radius': borderRadius,\r\n      } as CSSProperties}\r\n    >\r\n      <div data-testid=\"dropdown\" onClick={displayOptions} className={`dropdown__input${ inputValue !== '' ? ' dropdown__input--active' : '' }${ error ?  ' dropdown__input--error' : ''}`}>\r\n        <label htmlFor={name}>{label}</label>\r\n        <div className=\"dropdown__input__content\">\r\n          <input \r\n            id={name}\r\n            data-testid=\"input\"\r\n            ref={inputElement}\r\n            name={name} \r\n            readOnly={true}\r\n            onBlur={() => setShowOptions(false)}\r\n            value={inputValue}\r\n          />\r\n          <i><FontAwesomeIcon icon={faAngleDown} /></i>\r\n        </div>\r\n        {error && (<p className=\"dropdown__input__error-message\">{errorMessage}</p>)}\r\n      </div>\r\n      <div className={`dropdown__choicies${ error ?  ' dropdown__choicies--error' : ''}`}>\r\n        <ul>\r\n          {choicies.map((element, index) => (\r\n            <li onClick={onClickOption} key={'option-' + index}>{element}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dropdown\r\n\r\n"],"names":["useRef","useState","useEffect","_jsxs","_jsx","FontAwesomeIcon","faAngleDown"],"mappings":"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"}